{"version":3,"sources":["webpack:///./src/components/galeria/carousel/carousel.module.scss","webpack:///./src/components/galeria/galery.module.scss","webpack:///./src/components/galeria/carousel/Carousel.tsx","webpack:///./src/components/galeria/Galeria.tsx"],"names":["module","exports","Slide","slide","offset","active","ref","useRef","useEffect","current","state","rect","undefined","mouseX","mouseY","el","handleMouseMove","e","getBoundingClientRect","clientX","clientY","px","left","width","py","top","height","style","setProperty","addEventListener","removeEventListener","useTilt","className","carou","data-active","slideContent","backgroundImage","image","slideContentInner","slideTitle","slideSubtitle","slideDescription","Carouse","slides","dispatch","useReducer","event","type","slideIndex","length","container","cursor","onClick","map","i","key","Galeria","allImagesWithoutWEBPExtension","useStaticQuery","edges","images","forEach","push","node","childImageSharp","fluid","src","id","galer","galeria","title"],"mappings":"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","file":"11-7a6decdccf8833fe455c.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"carousel-module--container--2GOHg\",\"slides\":\"carousel-module--slides--17QrM\",\"slide\":\"carousel-module--slide--2svIF\",\"slideContent\":\"carousel-module--slideContent--2mrUj\",\"slideContentInner\":\"carousel-module--slideContentInner--677Ic\",\"slideSubtitle\":\"carousel-module--slideSubtitle--2pPlp\",\"slideTitle\":\"carousel-module--slideTitle--1fTt4\",\"slideDescription\":\"carousel-module--slideDescription--1Tb8_\",\"slideBackground\":\"carousel-module--slideBackground--1gIHN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galeria\":\"galery-module--galeria--2V5gK\",\"title\":\"galery-module--title--3QzOD\"};","import React, { FC, useRef, useEffect, useReducer } from \"react\"\r\n\r\nimport carou from \"./carousel.module.scss\"\r\n\r\nconst useTilt = active => {\r\n  const ref = useRef(null)\r\n\r\n  useEffect(() => {\r\n    if (!ref.current || !active) {\r\n      return\r\n    }\r\n\r\n    const state = {\r\n      rect: undefined,\r\n      mouseX: undefined,\r\n      mouseY: undefined,\r\n    }\r\n\r\n    let el = ref.current\r\n\r\n    const handleMouseMove = e => {\r\n      if (!el) {\r\n        return\r\n      }\r\n      if (!state.rect) {\r\n        state.rect = el.getBoundingClientRect()\r\n      }\r\n      state.mouseX = e.clientX\r\n      state.mouseY = e.clientY\r\n      const px = (state.mouseX - state.rect.left) / state.rect.width\r\n      const py = (state.mouseY - state.rect.top) / state.rect.height\r\n\r\n      el.style.setProperty(\"--px\", px)\r\n      el.style.setProperty(\"--py\", py)\r\n    }\r\n\r\n    el.addEventListener(\"mousemove\", handleMouseMove)\r\n\r\n    return () => {\r\n      el.removeEventListener(\"mousemove\", handleMouseMove)\r\n    }\r\n  }, [active])\r\n\r\n  return ref\r\n}\r\n\r\nconst Slide = ({ slide, offset }) => {\r\n  const active = offset === 0 ? true : null\r\n  const ref = useTilt(active)\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className={carou.slide}\r\n      data-active={active}\r\n      style={{\r\n        \"--offset\": offset,\r\n        \"--dir\": offset === 0 ? 0 : offset > 0 ? 1 : -1,\r\n      }}\r\n    >\r\n      {/* <div\r\n                className={carou.slideBackground}\r\n                style={{\r\n                    backgroundImage: `url('${slide.image}')`\r\n                }}\r\n            /> */}\r\n      <div\r\n        className={carou.slideContent}\r\n        style={{\r\n          backgroundImage: `url('${slide?.image}')`,\r\n        }}\r\n      >\r\n        <div className={carou.slideContentInner}>\r\n          <h2 className={carou.slideTitle}>PLan Grande</h2>\r\n          <h3 className={carou.slideSubtitle}>Visita A la escuela</h3>\r\n          <p className={carou.slideDescription}>Ayuda  a los ninos con utiles</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nconst Carouse = ({ slides }) => {\r\n  const slidesReducer = (state, event) => {\r\n    if (event.type === \"NEXT\") {\r\n      return {\r\n        ...state,\r\n        slideIndex: (state.slideIndex + 1) % slides.length,\r\n      }\r\n    }\r\n    if (event.type === \"PREV\") {\r\n      return {\r\n        ...state,\r\n        slideIndex:\r\n          state.slideIndex === 0 ? slides.length - 1 : state.slideIndex - 1,\r\n      }\r\n    }\r\n  }\r\n  const initialState = {\r\n    slideIndex: 0,\r\n  }\r\n  const [state, dispatch] = useReducer(slidesReducer, initialState)\r\n\r\n  return (\r\n    <div className={carou.container}>\r\n      <div className={carou.slides}>\r\n        <button\r\n          style={{ cursor: \"pointer\" }}\r\n          onClick={() => dispatch({ type: \"NEXT\" })}\r\n        >\r\n          ‹\r\n        </button>\r\n\r\n        {[...slides, ...slides, ...slides].map((slide, i) => {\r\n          let offset = slides.length + (state.slideIndex - i)\r\n          return <Slide slide={slide} offset={offset} key={i} />\r\n        })}\r\n        <button\r\n          style={{ cursor: \"pointer\" }}\r\n          onClick={() => dispatch({ type: \"PREV\" })}\r\n        >\r\n          ›\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Carouse\r\n","import React, { FC } from \"react\"\r\nimport { graphql, useStaticQuery } from \"gatsby\"\r\n\r\nimport Carouse from \"./carousel/Carousel\"\r\nimport galer from \"./galery.module.scss\"\r\nconst Galeria: FC = () => {\r\n  const { allImagesWithoutWEBPExtension } = useStaticQuery(graphql`\r\n    query {\r\n      allImagesWithoutWEBPExtension: allFile(\r\n        filter: {\r\n          sourceInstanceName: { eq: \"images\" }\r\n          extension: { regex: \"/webp/\" }\r\n        }\r\n      ) {\r\n        edges {\r\n          node {\r\n            id\r\n            childImageSharp {\r\n              fluid(maxWidth: 750, quality: 80) {\r\n                ...GatsbyImageSharpFluid\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  `)\r\n  const { edges } = allImagesWithoutWEBPExtension\r\n  const images = []\r\n  edges.forEach(e => {\r\n    images.push({ image: e.node.childImageSharp.fluid.src })\r\n  })\r\n\r\n  return (\r\n    <section id=\"galeria\" className={galer.galeria}>\r\n      <h2 className={galer.title}>Galeria</h2>\r\n\r\n      <Carouse slides={images} />\r\n    </section>\r\n  )\r\n}\r\nexport default Galeria\r\n"],"sourceRoot":""}