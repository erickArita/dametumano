{"version":3,"sources":["webpack:///./src/components/galeria/carousel/carousel.module.scss","webpack:///./src/components/galeria/galery.module.scss","webpack:///./src/components/galeria/carousel/Carousel.tsx","webpack:///./src/components/galeria/Galeria.tsx"],"names":["module","exports","Slide","slide","offset","active","ref","useRef","useEffect","current","state","rect","undefined","mouseX","mouseY","el","handleMouseMove","e","getBoundingClientRect","clientX","clientY","px","left","width","py","top","height","style","setProperty","addEventListener","removeEventListener","useTilt","className","carou","data-active","slideContent","backgroundImage","image","slideContentInner","slideTitle","slideSubtitle","slideDescription","Carouse","slides","dispatch","useReducer","event","type","slideIndex","length","container","cursor","onClick","map","i","key","Galeria","allImagesWithoutWEBPExtension","useStaticQuery","edges","images","forEach","push","node","childImageSharp","fluid","src","id","galer","galeria","title"],"mappings":"+EACAA,EAAOC,QAAU,CAAC,UAAY,oCAAoC,OAAS,iCAAiC,MAAQ,gCAAgC,aAAe,uCAAuC,kBAAoB,4CAA4C,cAAgB,wCAAwC,WAAa,qCAAqC,iBAAmB,2CAA2C,gBAAkB,4C,qBCApcD,EAAOC,QAAU,CAAC,QAAU,gCAAgC,MAAQ,gC,+GC6C9DC,EAAS,IAAsB,IAAtB,MAAEC,EAAF,OAASC,GAAa,EAC7BC,EAAoB,IAAXD,GAAsB,KAC/BE,EA5CQD,KACd,IAAMC,EAAMC,iBAAO,MAsCnB,OApCAC,oBAAU,KACR,GAAKF,EAAIG,SAAYJ,EAArB,CAIA,IAAMK,EAAQ,CACZC,UAAMC,EACNC,YAAQD,EACRE,YAAQF,GAGNG,EAAKT,EAAIG,QAEPO,EAAkBC,IACtB,GAAKF,EAAL,CAGKL,EAAMC,OACTD,EAAMC,KAAOI,EAAGG,yBAElBR,EAAMG,OAASI,EAAEE,QACjBT,EAAMI,OAASG,EAAEG,QACjB,IAAMC,GAAMX,EAAMG,OAASH,EAAMC,KAAKW,MAAQZ,EAAMC,KAAKY,MACnDC,GAAMd,EAAMI,OAASJ,EAAMC,KAAKc,KAAOf,EAAMC,KAAKe,OAExDX,EAAGY,MAAMC,YAAY,OAAQP,GAC7BN,EAAGY,MAAMC,YAAY,OAAQJ,KAK/B,OAFAT,EAAGc,iBAAiB,YAAab,GAE1B,KACLD,EAAGe,oBAAoB,YAAad,MAErC,CAACX,IAEGC,GAKKyB,CAAQ1B,GACpB,OACE,yBACEC,IAAKA,EACL0B,UAAWC,IAAM9B,MACjB+B,cAAa7B,EACbsB,MAAO,CACL,WAAYvB,EACZ,QAAoB,IAAXA,EAAe,EAAIA,EAAS,EAAI,GAAK,IAShD,yBACE4B,UAAWC,IAAME,aACjBR,MAAO,CACLS,gBAAiB,SAAQjC,aAAV,EAAUA,EAAOkC,OAAjB,OAGjB,yBAAKL,UAAWC,IAAMK,mBACpB,wBAAIN,UAAWC,IAAMM,YAArB,eACA,wBAAIP,UAAWC,IAAMO,eAArB,uBACA,uBAAGR,UAAWC,IAAMQ,kBAApB,qCAmDKC,EA7CE,IAAe,IAAf,OAAEC,GAAa,GAmBxB,EAACjC,EAAD,EAAQkC,GAAYC,qBAlBJ,CAACnC,EAAOoC,IACT,SAAfA,EAAMC,KACR,iBACKrC,EADL,CAEEsC,YAAatC,EAAMsC,WAAa,GAAKL,EAAOM,SAG7B,SAAfH,EAAMC,KACR,iBACKrC,EADL,CAEEsC,WACuB,IAArBtC,EAAMsC,WAAmBL,EAAOM,OAAS,EAAIvC,EAAMsC,WAAa,SAJtE,EAQmB,CACnBA,WAAY,IAId,OACE,yBAAKhB,UAAWC,IAAMiB,WACpB,yBAAKlB,UAAWC,IAAMU,QACpB,4BACEhB,MAAO,CAAEwB,OAAQ,WACjBC,QAAS,IAAMR,EAAS,CAAEG,KAAM,UAFlC,KAOC,sBAAIJ,GAAJ,YAAeA,GAAf,YAA0BA,IAAQU,IAAI,CAAClD,EAAOmD,KAC7C,IAAIlD,EAASuC,EAAOM,QAAUvC,EAAMsC,WAAaM,GACjD,OAAO,kBAACpD,EAAD,CAAOC,MAAOA,EAAOC,OAAQA,EAAQmD,IAAKD,MAEnD,4BACE3B,MAAO,CAAEwB,OAAQ,WACjBC,QAAS,IAAMR,EAAS,CAAEG,KAAM,UAFlC,Q,qBC1EOS,UApCK,KAClB,IAAM,8BAAEC,GAAkCC,yBAAe,eAqBnD,MAAEC,GAAUF,EACZG,EAAS,GAKf,OAJAD,EAAME,QAAQ5C,IACZ2C,EAAOE,KAAK,CAAEzB,MAAOpB,EAAE8C,KAAKC,gBAAgBC,MAAMC,QAIlD,6BAASC,GAAG,UAAUnC,UAAWoC,IAAMC,SACrC,wBAAIrC,UAAWoC,IAAME,OAArB,WAEA,kBAAC,EAAD,CAAS3B,OAAQiB","file":"11-0f2cf9af66e6d489ed3e.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"carousel-module--container--2M0CB\",\"slides\":\"carousel-module--slides--1PA_h\",\"slide\":\"carousel-module--slide--1CrWb\",\"slideContent\":\"carousel-module--slideContent--1CJgW\",\"slideContentInner\":\"carousel-module--slideContentInner--1BsTU\",\"slideSubtitle\":\"carousel-module--slideSubtitle--393jv\",\"slideTitle\":\"carousel-module--slideTitle--2D89O\",\"slideDescription\":\"carousel-module--slideDescription--1Xz4C\",\"slideBackground\":\"carousel-module--slideBackground--2bCBL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galeria\":\"galery-module--galeria--3W9A8\",\"title\":\"galery-module--title--2Bqmp\"};","import React, { FC, useRef, useEffect, useReducer } from \"react\"\n\nimport carou from \"./carousel.module.scss\"\n\nconst useTilt = active => {\n  const ref = useRef(null)\n\n  useEffect(() => {\n    if (!ref.current || !active) {\n      return\n    }\n\n    const state = {\n      rect: undefined,\n      mouseX: undefined,\n      mouseY: undefined,\n    }\n\n    let el = ref.current\n\n    const handleMouseMove = e => {\n      if (!el) {\n        return\n      }\n      if (!state.rect) {\n        state.rect = el.getBoundingClientRect()\n      }\n      state.mouseX = e.clientX\n      state.mouseY = e.clientY\n      const px = (state.mouseX - state.rect.left) / state.rect.width\n      const py = (state.mouseY - state.rect.top) / state.rect.height\n\n      el.style.setProperty(\"--px\", px)\n      el.style.setProperty(\"--py\", py)\n    }\n\n    el.addEventListener(\"mousemove\", handleMouseMove)\n\n    return () => {\n      el.removeEventListener(\"mousemove\", handleMouseMove)\n    }\n  }, [active])\n\n  return ref\n}\n\nconst Slide = ({ slide, offset }) => {\n  const active = offset === 0 ? true : null\n  const ref = useTilt(active)\n  return (\n    <div\n      ref={ref}\n      className={carou.slide}\n      data-active={active}\n      style={{\n        \"--offset\": offset,\n        \"--dir\": offset === 0 ? 0 : offset > 0 ? 1 : -1,\n      }}\n    >\n      {/* <div\n                className={carou.slideBackground}\n                style={{\n                    backgroundImage: `url('${slide.image}')`\n                }}\n            /> */}\n      <div\n        className={carou.slideContent}\n        style={{\n          backgroundImage: `url('${slide?.image}')`,\n        }}\n      >\n        <div className={carou.slideContentInner}>\n          <h2 className={carou.slideTitle}>PLan Grande</h2>\n          <h3 className={carou.slideSubtitle}>Visita A la escuela</h3>\n          <p className={carou.slideDescription}>Ayuda  a los ninos con utiles</p>\n        </div>\n      </div>\n    </div>\n  )\n}\nconst Carouse = ({ slides }) => {\n  const slidesReducer = (state, event) => {\n    if (event.type === \"NEXT\") {\n      return {\n        ...state,\n        slideIndex: (state.slideIndex + 1) % slides.length,\n      }\n    }\n    if (event.type === \"PREV\") {\n      return {\n        ...state,\n        slideIndex:\n          state.slideIndex === 0 ? slides.length - 1 : state.slideIndex - 1,\n      }\n    }\n  }\n  const initialState = {\n    slideIndex: 0,\n  }\n  const [state, dispatch] = useReducer(slidesReducer, initialState)\n\n  return (\n    <div className={carou.container}>\n      <div className={carou.slides}>\n        <button\n          style={{ cursor: \"pointer\" }}\n          onClick={() => dispatch({ type: \"NEXT\" })}\n        >\n          ‹\n        </button>\n\n        {[...slides, ...slides, ...slides].map((slide, i) => {\n          let offset = slides.length + (state.slideIndex - i)\n          return <Slide slide={slide} offset={offset} key={i} />\n        })}\n        <button\n          style={{ cursor: \"pointer\" }}\n          onClick={() => dispatch({ type: \"PREV\" })}\n        >\n          ›\n        </button>\n      </div>\n    </div>\n  )\n}\nexport default Carouse\n","import React, { FC } from \"react\"\nimport { graphql, useStaticQuery } from \"gatsby\"\n\nimport Carouse from \"./carousel/Carousel\"\nimport galer from \"./galery.module.scss\"\nconst Galeria: FC = () => {\n  const { allImagesWithoutWEBPExtension } = useStaticQuery(graphql`\n    query {\n      allImagesWithoutWEBPExtension: allFile(\n        filter: {\n          sourceInstanceName: { eq: \"images\" }\n          extension: { regex: \"/webp/\" }\n        }\n      ) {\n        edges {\n          node {\n            id\n            childImageSharp {\n              fluid(maxWidth: 750, quality: 80) {\n                ...GatsbyImageSharpFluid\n              }\n            }\n          }\n        }\n      }\n    }\n  `)\n  const { edges } = allImagesWithoutWEBPExtension\n  const images = []\n  edges.forEach(e => {\n    images.push({ image: e.node.childImageSharp.fluid.src })\n  })\n\n  return (\n    <section id=\"galeria\" className={galer.galeria}>\n      <h2 className={galer.title}>Galeria</h2>\n\n      <Carouse slides={images} />\n    </section>\n  )\n}\nexport default Galeria\n"],"sourceRoot":""}